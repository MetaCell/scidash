webpackJsonp([16],{

/***/ 1057:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require) {\n\n\t__webpack_require__(2885);\n\tvar React = __webpack_require__(1);\n\tvar GoogleMapsLoader = __webpack_require__(2887);\n\tvar AbstractComponent = __webpack_require__(411);\n\n\treturn function (_AbstractComponent) {\n\t\t_inherits(GoogleViewer, _AbstractComponent);\n\n\t\tfunction GoogleViewer(props) {\n\t\t\t_classCallCheck(this, GoogleViewer);\n\n\t\t\tvar _this2 = _possibleConstructorReturn(this, (GoogleViewer.__proto__ || Object.getPrototypeOf(GoogleViewer)).call(this, props));\n\n\t\t\tvar _this = _this2;\n\t\t\tvar mapSettings = {\n\t\t\t\tcenter: { lat: 0, lng: 0 },\n\t\t\t\tzoom: 1,\n\t\t\t\tstreetViewControl: false,\n\t\t\t\tmapTypeControl: false\n\t\t\t};\n\n\t\t\tvar path = _this2.extractFilesPath(_this2.props.data);\n\t\t\tvar imageMapTypeSettings = {\n\t\t\t\tgetTileUrl: function getTileUrl(coord, zoom) {\n\t\t\t\t\tvar normalizedCoord = _this.getNormalizedCoord(coord, zoom);\n\t\t\t\t\tif (!normalizedCoord) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tvar bound = Math.pow(2, zoom);\n\t\t\t\t\treturn _this.state.path + '/' + zoom + '/' + normalizedCoord.x + '/' + (bound - normalizedCoord.y - 1) + '.jpg';\n\t\t\t\t},\n\t\t\t\tisPng: false,\n\t\t\t\tmaxZoom: 11,\n\t\t\t\tminZoom: 0,\n\t\t\t\tradius: 1738000,\n\t\t\t\tpath: path\n\t\t\t};\n\n\t\t\t_this2.state = {\n\t\t\t\tmapSettings: $.extend(mapSettings, _this2.props.mapSettings),\n\t\t\t\timageMapTypeSettings: $.extend(imageMapTypeSettings, _this2.props.imageMapTypeSettings),\n\t\t\t\ttileWidth: _this2.props.tileWidth != undefined ? _this2.props.tileWidth : 256,\n\t\t\t\ttileHeight: _this2.props.tileHeight != undefined ? _this2.props.tileHeight : 256,\n\t\t\t\tpath: path\n\t\t\t};\n\t\t\treturn _this2;\n\t\t}\n\n\t\t_createClass(GoogleViewer, [{\n\t\t\tkey: 'extractFilesPath',\n\t\t\tvalue: function extractFilesPath(data) {\n\t\t\t\tvar path;\n\t\t\t\tif (data != undefined) {\n\t\t\t\t\tif (data.getMetaType == undefined) {\n\t\t\t\t\t\tpath = data;\n\t\t\t\t\t} else if (data.getMetaType() == \"Instance\") {\n\t\t\t\t\t\tif (data.getVariable().getInitialValues()[0].value.format == \"GOOGLE_MAP\") {\n\t\t\t\t\t\t\tpath = data.getVariable().getInitialValues()[0].value.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn path;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'setData',\n\t\t\tvalue: function setData(data) {\n\t\t\t\tthis.setState({ path: this.extractFilesPath(data) });\n\t\t\t}\n\n\t\t\t// Normalizes the coords that tiles repeat across the x axis (horizontally)\n\t\t\t// like the standard Google map tiles.\n\n\t\t}, {\n\t\t\tkey: 'getNormalizedCoord',\n\t\t\tvalue: function getNormalizedCoord(coord, zoom) {\n\t\t\t\tvar y = coord.y;\n\t\t\t\tvar x = coord.x;\n\n\t\t\t\t// tile range in one direction range is dependent on zoom level\n\t\t\t\t// 0 = 1 tile, 1 = 2 tiles, 2 = 4 tiles, 3 = 8 tiles, etc\n\t\t\t\tvar tileRange = 1 << zoom;\n\n\t\t\t\t// don't repeat across y-axis (vertically)\n\t\t\t\tif (y < 0 || y >= tileRange) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// repeat across x-axis\n\t\t\t\tif (x < 0 || x >= tileRange) {\n\t\t\t\t\tx = (x % tileRange + tileRange) % tileRange;\n\t\t\t\t}\n\n\t\t\t\treturn { x: x, y: y };\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getMap',\n\t\t\tvalue: function getMap() {\n\t\t\t\treturn this.map;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'setMap',\n\t\t\tvalue: function setMap(map) {\n\t\t\t\tthis.map = map;\n\t\t\t\tthis.addResizeHandler();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'componentDidMount',\n\t\t\tvalue: function componentDidMount() {\n\t\t\t\tvar _this = this;\n\t\t\t\tGoogleMapsLoader.KEY = this.props.googleKey;\n\t\t\t\tGoogleMapsLoader.load(function (google) {\n\t\t\t\t\tvar container = document.getElementById(_this.props.id + \"_component\");\n\n\t\t\t\t\t_this.map = new google.maps.Map(container, _this.state.mapSettings);\n\n\t\t\t\t\t// tileSize: new google.maps.Size(256, 256),\n\t\t\t\t\t_this.state.imageMapTypeSettings['tileSize'] = new google.maps.Size(_this.state.tileWidth, _this.state.tileHeight);\n\t\t\t\t\tvar imageMapType = new google.maps.ImageMapType(_this.state.imageMapTypeSettings);\n\n\t\t\t\t\t_this.map.mapTypes.set('imageMapType', imageMapType);\n\t\t\t\t\t_this.map.setMapTypeId('imageMapType');\n\n\t\t\t\t\t$(window).resize(function () {\n\t\t\t\t\t\tgoogle.maps.event.trigger(_this.map, \"resize\");\n\t\t\t\t\t});\n\n\t\t\t\t\t_this.addResizeHandler();\n\t\t\t\t});\n\n\t\t\t\tGoogleMapsLoader.onLoad(function (google) {\n\t\t\t\t\t//console.log('I just loaded google maps api');\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'addResizeHandler',\n\t\t\tvalue: function addResizeHandler() {\n\t\t\t\tvar _this = this;\n\t\t\t\t_this.newCenter = null;\n\t\t\t\tgoogle.maps.event.addListener(_this.map, 'idle', function () {\n\t\t\t\t\tif (_this.newCenter == null) {\n\t\t\t\t\t\t_this.newCenter = _this.map.getCenter();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgoogle.maps.event.addListener(_this.map, 'resize', function () {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t_this.map.setCenter(_this.newCenter);\n\t\t\t\t\t}, 200);\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'download',\n\t\t\tvalue: function download() {\n\t\t\t\t//What do we do here?\n\t\t\t\tconsole.log(\"Downloading data...\");\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn React.createElement('div', { key: this.props.id + \"_component\", id: this.props.id + \"_component\", className: 'googleViewer', style: this.props.style });\n\t\t\t}\n\t\t}]);\n\n\t\treturn GoogleViewer;\n\t}(AbstractComponent);\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/components/interface/googleViewer/GoogleViewer.js\n// module id = 1057\n// module chunks = 16\n\n//# sourceURL=webpack:///./js/components/interface/googleViewer/GoogleViewer.js?");

/***/ }),

/***/ 2885:
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2886);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(25)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js?{\\\"modifyVars\\\":{\\\"url\\\":\\\"'../../../extensions/geppetto-default/colors'\\\"}}!./GoogleViewer.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js?{\\\"modifyVars\\\":{\\\"url\\\":\\\"'../../../extensions/geppetto-default/colors'\\\"}}!./GoogleViewer.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/components/interface/googleViewer/GoogleViewer.less\n// module id = 2885\n// module chunks = 16\n\n//# sourceURL=webpack:///./js/components/interface/googleViewer/GoogleViewer.less?");

/***/ }),

/***/ 2886:
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(24)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \".googleViewer {\\n  height: 100%;\\n}\\n.googleviewer-widget {\\n  padding: .5em 0em 0em !important;\\n}\\n\", \"\"]);\n\n// exports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js?{\"modifyVars\":{\"url\":\"'../../../extensions/geppetto-default/colors'\"}}!./js/components/interface/googleViewer/GoogleViewer.less\n// module id = 2886\n// module chunks = 16\n\n//# sourceURL=webpack:///./js/components/interface/googleViewer/GoogleViewer.less?./node_modules/css-loader!./node_modules/less-loader/dist/cjs.js?%7B%22modifyVars%22:%7B%22url%22:%22'../../../extensions/geppetto-default/colors'%22%7D%7D");

/***/ }),

/***/ 2887:
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(root, factory) {\n\n\tif (root === null) {\n\t\tthrow new Error('Google-maps package can be used only in browser');\n\t}\n\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.GoogleMapsLoader = factory();\n\t}\n\n})(typeof window !== 'undefined' ? window : null, function() {\n\n\n\t'use strict';\n\n\n\tvar googleVersion = '3.31';\n\n\tvar script = null;\n\n\tvar google = null;\n\n\tvar loading = false;\n\n\tvar callbacks = [];\n\n\tvar onLoadEvents = [];\n\n\tvar originalCreateLoaderMethod = null;\n\n\n\tvar GoogleMapsLoader = {};\n\n\n\tGoogleMapsLoader.URL = 'https://maps.googleapis.com/maps/api/js';\n\n\tGoogleMapsLoader.KEY = null;\n\n\tGoogleMapsLoader.LIBRARIES = [];\n\n\tGoogleMapsLoader.CLIENT = null;\n\n\tGoogleMapsLoader.CHANNEL = null;\n\n\tGoogleMapsLoader.LANGUAGE = null;\n\n\tGoogleMapsLoader.REGION = null;\n\n\tGoogleMapsLoader.VERSION = googleVersion;\n\n\tGoogleMapsLoader.WINDOW_CALLBACK_NAME = '__google_maps_api_provider_initializator__';\n\n\n\tGoogleMapsLoader._googleMockApiObject = {};\n\n\n\tGoogleMapsLoader.load = function(fn) {\n\t\tif (google === null) {\n\t\t\tif (loading === true) {\n\t\t\t\tif (fn) {\n\t\t\t\t\tcallbacks.push(fn);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tloading = true;\n\n\t\t\t\twindow[GoogleMapsLoader.WINDOW_CALLBACK_NAME] = function() {\n\t\t\t\t\tready(fn);\n\t\t\t\t};\n\n\t\t\t\tGoogleMapsLoader.createLoader();\n\t\t\t}\n\t\t} else if (fn) {\n\t\t\tfn(google);\n\t\t}\n\t};\n\n\n\tGoogleMapsLoader.createLoader = function() {\n\t\tscript = document.createElement('script');\n\t\tscript.type = 'text/javascript';\n\t\tscript.src = GoogleMapsLoader.createUrl();\n\n\t\tdocument.body.appendChild(script);\n\t};\n\n\n\tGoogleMapsLoader.isLoaded = function() {\n\t\treturn google !== null;\n\t};\n\n\n\tGoogleMapsLoader.createUrl = function() {\n\t\tvar url = GoogleMapsLoader.URL;\n\n\t\turl += '?callback=' + GoogleMapsLoader.WINDOW_CALLBACK_NAME;\n\n\t\tif (GoogleMapsLoader.KEY) {\n\t\t\turl += '&key=' + GoogleMapsLoader.KEY;\n\t\t}\n\n\t\tif (GoogleMapsLoader.LIBRARIES.length > 0) {\n\t\t\turl += '&libraries=' + GoogleMapsLoader.LIBRARIES.join(',');\n\t\t}\n\n\t\tif (GoogleMapsLoader.CLIENT) {\n\t\t\turl += '&client=' + GoogleMapsLoader.CLIENT;\n\t\t}\n\n\t\tif (GoogleMapsLoader.CHANNEL) {\n\t\t\turl += '&channel=' + GoogleMapsLoader.CHANNEL;\n\t\t}\n\n\t\tif (GoogleMapsLoader.LANGUAGE) {\n\t\t\turl += '&language=' + GoogleMapsLoader.LANGUAGE;\n\t\t}\n\n\t\tif (GoogleMapsLoader.REGION) {\n\t\t\turl += '&region=' + GoogleMapsLoader.REGION;\n\t\t}\n\n\t\tif (GoogleMapsLoader.VERSION) {\n\t\t\turl += '&v=' + GoogleMapsLoader.VERSION;\n\t\t}\n\n\t\treturn url;\n\t};\n\n\n\tGoogleMapsLoader.release = function(fn) {\n\t\tvar release = function() {\n\t\t\tGoogleMapsLoader.KEY = null;\n\t\t\tGoogleMapsLoader.LIBRARIES = [];\n\t\t\tGoogleMapsLoader.CLIENT = null;\n\t\t\tGoogleMapsLoader.CHANNEL = null;\n\t\t\tGoogleMapsLoader.LANGUAGE = null;\n\t\t\tGoogleMapsLoader.REGION = null;\n\t\t\tGoogleMapsLoader.VERSION = googleVersion;\n\n\t\t\tgoogle = null;\n\t\t\tloading = false;\n\t\t\tcallbacks = [];\n\t\t\tonLoadEvents = [];\n\n\t\t\tif (typeof window.google !== 'undefined') {\n\t\t\t\tdelete window.google;\n\t\t\t}\n\n\t\t\tif (typeof window[GoogleMapsLoader.WINDOW_CALLBACK_NAME] !== 'undefined') {\n\t\t\t\tdelete window[GoogleMapsLoader.WINDOW_CALLBACK_NAME];\n\t\t\t}\n\n\t\t\tif (originalCreateLoaderMethod !== null) {\n\t\t\t\tGoogleMapsLoader.createLoader = originalCreateLoaderMethod;\n\t\t\t\toriginalCreateLoaderMethod = null;\n\t\t\t}\n\n\t\t\tif (script !== null) {\n\t\t\t\tscript.parentElement.removeChild(script);\n\t\t\t\tscript = null;\n\t\t\t}\n\n\t\t\tif (fn) {\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\n\t\tif (loading) {\n\t\t\tGoogleMapsLoader.load(function() {\n\t\t\t\trelease();\n\t\t\t});\n\t\t} else {\n\t\t\trelease();\n\t\t}\n\t};\n\n\n\tGoogleMapsLoader.onLoad = function(fn) {\n\t\tonLoadEvents.push(fn);\n\t};\n\n\n\tGoogleMapsLoader.makeMock = function() {\n\t\toriginalCreateLoaderMethod = GoogleMapsLoader.createLoader;\n\n\t\tGoogleMapsLoader.createLoader = function() {\n\t\t\twindow.google = GoogleMapsLoader._googleMockApiObject;\n\t\t\twindow[GoogleMapsLoader.WINDOW_CALLBACK_NAME]();\n\t\t};\n\t};\n\n\n\tvar ready = function(fn) {\n\t\tvar i;\n\n\t\tloading = false;\n\n\t\tif (google === null) {\n\t\t\tgoogle = window.google;\n\t\t}\n\n\t\tfor (i = 0; i < onLoadEvents.length; i++) {\n\t\t\tonLoadEvents[i](google);\n\t\t}\n\n\t\tif (fn) {\n\t\t\tfn(google);\n\t\t}\n\n\t\tfor (i = 0; i < callbacks.length; i++) {\n\t\t\tcallbacks[i](google);\n\t\t}\n\n\t\tcallbacks = [];\n\t};\n\n\n\treturn GoogleMapsLoader;\n\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/google-maps/lib/Google.js\n// module id = 2887\n// module chunks = 16\n\n//# sourceURL=webpack:///./node_modules/google-maps/lib/Google.js?");

/***/ })

});